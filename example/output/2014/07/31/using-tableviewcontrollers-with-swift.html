<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

	<title>David Díaz  | Using TableViewControllers with Swift </title>

	<link rel="stylesheet" href="/css/screen.css">
	<link rel="alternate" type="application/rss+xml" title="RSS Feed for martianwabbit.com" href="https://martianwabbit.com/feed.xml" />
	<link rel="me" href="https://mastodon.social/@seich" />
</head>
<body>
<div id="top">
	<h1><a href="/">David Díaz<span>.</span></a></h1>
</div>

<header>
  <h1>
    <a href="">Using TableViewControllers with Swift</a>
  </h1>

  <aside>
    <time>Posted on: July 31, 2014</time>
    <span>622 Words</span>
    <span
      >Takes 3 minutes to read</span
    >
  </aside>
</header>
<article>
  <p>Using a TableViewController with swift is easy. It takes only a couple of steps to create a table with custom cells. I started by creating a single view application.</p>
<p><img src="/files/2014-07-31-using-tableviewcontrollers/swiftTables_step_1.png" alt="New Project"></p>
<h2>Setting up the table and cell prototype</h2>
<p>I started by deleting the default view. Then, I added a <em>Table View Controller</em> to the storyboard.
Finally, I added two labels to the prototype cell. You can use the prototype cell to define how the cells for the table will look, so go ahead and tweak it to your convenience. Afterwards, I set the cell's identifier to 'cell'. I am creating a Twitter client so I only need to display the user and the Tweet.</p>
<p>(There's a preset style that's only a title and a subtitle which I could have used but, I want more control over it's appearance so I went this way)</p>
<p>Once I had my cell and table ready I just needed to do a couple more things. First, I created a class called TweetCell that inherits from <code>UITableViewCell</code>. I'll be using this class as a base for my custom cell. I set my class as the custom class and I added two outlets to refer to both of the labels. I named the big one "username" and the smaller one "body".</p>
<pre><code class="language-swift">// TweetCell.swift
import UIKit

class TweetCell: UITableViewCell {
    @IBOutlet weak var username: UILabel!
    @IBOutlet weak var body: UILabel!
}
</code></pre>
<h2>The ViewController</h2>
<p>Now I only have to set up the view controller. We already have the basic view controller that came with the project so now we can just change it to do our bidding.</p>
<p>I start by creating a struct to contain my tweets. I added it before the ViewController's class definition.</p>
<pre><code class="language-swift">struct Tweet {
    var username: String
    var body: String
}
</code></pre>
<p>After that, I changed the ViewController's parent class from <code>UIViewController</code> to <code>UITableViewController</code> and added the <code>UITableViewDataSource</code> protocol to it so my class looks like this:</p>
<pre><code class="language-swift">class ViewController: UITableViewController, UITableViewDataSource {

}
</code></pre>
<p>Now I added an array with a couple of tweets:</p>
<pre><code class="language-swift">var tweets: [Tweet] = [
    Tweet(username: "Seich", body: "Hello, World"),
    Tweet(username: "Albert", body: "How are you doing?")
]
</code></pre>
<p>Finally I just need to override a couple of methods. The first one is this method:  <code>tableView(tableView: UITableView!, cellForRowAtIndexPath indexPath: NSIndexPath!) -> UITableViewCell! </code> which determines what cell should be drawn at the given index. Here's how mine looks:</p>
<pre><code class="language-swift">override func tableView(
    tableView: UITableView!,
    cellForRowAtIndexPath indexPath: NSIndexPath!)
    -> UITableViewCell! {

    var cell = tableView.dequeueReusableCellWithIdentifier("cell") as TweetCell

    cell.username.text = tweets[indexPath.row].username
    cell.body.text = tweets[indexPath.row].body

    return cell
}
</code></pre>
<p>The second method is this one: <code>override func tableView(tableView: UITableView!, numberOfRowsInSection section: Int) -> Int</code> which should return the number of cells to draw, mine looks like this:</p>
<pre><code class="language-swift">override func tableView(
    tableView: UITableView!,
    numberOfRowsInSection section: Int) -> Int {

    return tweets.count
}
</code></pre>
<p>And that's it. Here's my final code for the view controller:</p>
<pre><code class="language-swift">import UIKit

struct Tweet {
    var username: String
    var body: String
}

class ViewController: UITableViewController, UITableViewDataSource {
    var tweets: [Tweet] = [
        Tweet(username: "Seich", body: "Hello, World"),
        Tweet(username: "Albert", body: "How are you doing?")
    ]

    override func tableView(
        tableView: UITableView!,
        numberOfRowsInSection section: Int)
        -> Int {

        return tweets.count
    }

    override func tableView(
        tableView: UITableView!,
        cellForRowAtIndexPath indexPath: NSIndexPath!)
        -> UITableViewCell! {

        var cell = tableView.dequeueReusableCellWithIdentifier("cell")
                        as TweetCell

        cell.username.text = tweets[indexPath.row].username
        cell.body.text = tweets[indexPath.row].body

        return cell
    }
}
</code></pre>
<p>And this is what my finalised app looks like:</p>
<p>It's not perfect but, it shouldn't take much to have it looking decent. I'll probably be revisiting this soon and finishing the whole Twitter application so stay tuned for more.</p>
<h2>Resources</h2>
<p><a href="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/tableview_iphone/AboutTableViewsiPhone/AboutTableViewsiPhone.html">About Table Views in iOS Apps</a></p>
<p><a href="https://developer.apple.com/library/ios/documentation/userexperience/conceptual/tableview_iphone/CreateConfigureTableView/CreateConfigureTableView.html">Creating and Configuring a Table View</a></p>
<p><a href="http://www.raywenderlich.com/50308/storyboards-tutorial-in-ios-7-part-1">Storyboard Tutorial</a></p>

  <p class="comments">
    Have a comment? Feel free to
    <a href="mailto:seich@martianwabbit.com">email me</a>.<br />
    Did you enjoy this post?
    <a href="https://www.buymeacoffee.com/seich">Buy me a coffee ☕️</a>.
  </p>
</article>


<footer>
	<p>David Díaz © All Rights Reserved.</p>
</footer>
</body>
</html>
